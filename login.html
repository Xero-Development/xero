<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>PX-OS | Login</title>

  <!-- Optional: keep your styling for the brief moment before redirect -->
  <link rel="stylesheet" href="./x-layout.css" />
  <link rel="stylesheet" href="./x-components.css" />
  <link rel="stylesheet" href="./x-forms.css" />
  <link rel="stylesheet" href="./x-icons.css" />
  <link rel="stylesheet" href="./x-animations.css" />
  <link rel="stylesheet" href="./x-styles.css" />

  <style>
    .x-redirect {
      max-width: 720px;
      margin: 0 auto;
      padding: 40px 16px;
    }
    .x-muted { opacity: 0.85; }
    a { color: var(--x-accent, #6cf); }
  </style>
</head>

<body class="x-app">
  <main class="x-container">
    <section class="x-card x-redirect">
      <h1>Redirecting to Discord…</h1>
      <p class="x-muted">
        If you aren’t redirected automatically,
        <a id="manualLink" href="#">click here</a>.
      </p>
    </section>
  </main>

  <script>
    // Your Cloudflare Worker base URL (no trailing slash)
    const WORKER_BASE = "https://teamx-developments.github.io/x/";

    // Where the worker should send the user back on your GitHub Pages site
    const RETURN_TO = `${location.origin}/auth.html`;

    const dest = `${WORKER_BASE}/login?return=${encodeURIComponent(RETURN_TO)}`;

    // manual fallback link
    document.getElementById("manualLink").href = dest;

    // instant redirect
    location.replace(dest);
  </script>
</body>
</html>
